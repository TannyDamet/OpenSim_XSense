<?xml version="1.0" encoding="UTF-8" ?>
<OpenSimDocument Version="42000">
    <ScaleTool name="Rajagopal_2015">
        <!--Mass of the subject in kg.  Subject-specific model generated by scaling step will
            have this total mass.-->
        <mass>72.6</mass>
        <!--Height of the subject in mm.  For informational purposes only (not used by scaling).-->
        <height>1803.4</height>
        <!--Age of the subject in years.  For informational purposes only (not used by scaling).-->
        <age>99</age>
        <!--Notes for the subject.-->
        <notes>This is an example setup file for scale.exe.</notes>
        <!--Specifies the name of the unscaled model (.osim) and the marker set.-->
        <GenericModelMaker>
            <!--Model file (.osim) for the unscaled model.-->
            <model_file>Rajagopal_2015.osim</model_file>
            <!--Set of model markers used to scale the model. Scaling is done based on distances
                between model markers compared to the same distances between the corresponding
                experimental markers.-->
            <marker_set_file>gait2354_Scale_MarkerSet.xml</marker_set_file>
        </GenericModelMaker>
        <!--Specifies parameters for scaling the model.-->
        <ModelScaler>
            <!--Whether or not to use the model scaler during scale-->
            <apply>true</apply>
            <!--Specifies the scaling method and order. Valid options are 'measurements', 'manualScale',
                singly or both in any sequence.-->
            <scaling_order> measurements manualScale</scaling_order>
            <!--Specifies the measurements by which body segments are to be scaled.-->
            <MeasurementSet name="Rajagopal_2015"> 
                ...
            </MeasurementSet>
            <!--Scale factors to be used for manual scaling.-->
            <ScaleSet name="Rajagopal_2015_Scale">
                ...
            </ScaleSet>
            <!--TRC file (.trc) containing the marker positions used for measurement-based scaling.
                This is usually a static trial, but doesn't need to be.  The marker-pair distances
                are computed for each time step in the TRC file and averaged across the time range.-->
            <marker_file>subject01_static.trc</marker_file>
            <!--Time range over which to average marker-pair distances in the marker file (.trc) for
                measurement-based scaling.-->
            <time_range> 1 2</time_range>
            <!--Flag (true or false) indicating whether or not to preserve relative mass between
                segments.-->
            <preserve_mass_distribution>true</preserve_mass_distribution>
            <!--Name of OpenSim model file (.osim) to write when done scaling.-->
            <output_model_file>subject01_scaledOnly.osim</output_model_file>
            <!--Name of file to write containing the scale factors that were applied to the unscaled
                model (optional).-->
            <output_scale_file>subject01_scaleSet_applied.xml</output_scale_file>
        </ModelScaler>
        <!--Specifies parameters for placing markers on the model once a model is scaled. -->
        <MarkerPlacer>
            <!--Whether or not to use the marker placer during scale-->
            <apply>true</apply>
            <!--Task set used to specify weights used in the IK computation of the static pose.-->
            <IKTaskSet name="gait2354_Scale_IKTaskSet">
                ...
            </IKTaskSet>
            <!--TRC file (.trc) containing the time history of experimental marker positions (usually
                a static trial).-->
            <marker_file>subject01_static.trc</marker_file>
            <!--Name of file containing the joint angles used to set the initial configuration of
                the model -->
            <coordinate_file>Unassigned</coordinate_file>
            <!--Time range over which the marker positions are averaged.-->
            <time_range> 1 1.01</time_range>
            <!--Name of the motion file (.mot) written after marker relocation (optional).-->
            <output_motion_file>subject01_static_output.mot</output_motion_file>
            <!--Output OpenSim model file (.osim) after scaling and maker placement.-->
            <output_model_file>subject01_simbody.osim</output_model_file>
            <!--Output marker set containing the new marker locations after markers have been placed.-->
            <output_marker_file>Unassigned</output_marker_file>
            <!--Maximum amount of movement allowed in marker data when averaging frames of the static
                trial. A negative value means there is not limit.-->
            <max_marker_movement>-1</max_marker_movement>
        </MarkerPlacer>
    </ScaleTool>
</OpenSimDocument>